spin_manifest_version = 2

[application]
authors = ["Rajat Jindal <rajatjindal83@gmail.com>"]
description = ""
name = "contact-me"
version = "0.1.0"

[application.trigger.http]
base = "/"

[[trigger.http]]
id = "backend"
component = "backend"
route = "/..."

[component.backend]
source = "main.wasm"
allowed_outbound_hosts = ["https://hooks.slack.com"]

[component.backend.build]
command = "tinygo build -target=wasi -gc=leaking -no-debug -o main.wasm main.go"
watch = ["**/*.go", "go.mod"]

[component.backend.variables]
slack_webhook = "{{ slack_webhook }}"

[variables]
slack_webhook = { required = true }